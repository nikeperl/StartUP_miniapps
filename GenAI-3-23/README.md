# Генератор вопросов по теме

Проект позволяет генерировать вопросы и ответы по заданной теме с использованием моделей **T5** для генерации вопросов и **DistilBERT QA** для генерации ответов. Сгенерированные вопросы и ответы, а также контекст, сохраняются в CSV файл.

---

## Возможности

* Генерация нескольких вопросов по одной теме.
* Поддержка GPU при наличии.
* Полная параметризация через аргументы командной строки.

---

## Требования

* Python 3.8+
* `torch`
* `transformers`
* `accelerate`
* `spacy`

Установка зависимостей:

```bash
pip install -r requirements.txt
```

Установка `en_core_web_sm` для работы `spacy`:

```bash
python -m spacy download en_core_web_sm
```

---

## Использование

Запуск скрипта из командной строки:

```bash
python script.py "Тема или краткий текст для генерации вопросов" --output_file data/output.csv --num_questions 5
```

### Аргументы командной строки

| Аргумент          | Тип | По умолчанию | Описание                                                  |
| ----------------- | --- | ------------ | --------------------------------------------------------- |
| `topic`           | str | требуется    | Тема или текст для генерации вопросов и ответов           |
| `--output_file`   | str | `output.csv` | Путь к выходному CSV файлу                                |
| `--num_questions` | int | 3            | Количество генерируемых пар вопрос-ответ                  |
| `--max_tokens`    | int | 256          | Максимальное количество токенов в сгенерированном вопросе |

---

## Пример

Команда для запуска:

```bash
python script.py "Artificial Intelligence and its applications" --num_questions 5
```

Вывод (в файл `output.csv`):

| sentence                                                      | question                            | answer                             |
| ------------------------------------------------------------- | ----------------------------------- | ---------------------------------- |
| Artificial Intelligence is changing the way we live and work. | What is AI changing?                | the way we live and work           |
| It is widely used in healthcare, finance, and education.      | In which sectors is AI widely used? | healthcare, finance, and education |

---

## Как это работает

1. **Разбиение текста:** Тема или текст обрабатывается и сегментируется на "предложения" с помощью SpaCy.
2. **Генерация вопросов:** Используется модель T5 (`google/flan-t5-large`) для генерации вопросов по предложению.
3. **Генерация ответов:** Используется QA модель `distilbert-base-uncased-distilled-squad` для генерации ответов.
4. **Вывод:** Сгенерированные предложения, вопросы и ответы сохраняются в CSV файл с полями `sentence`, `question`, `answer`.

---

## Примечания

* Рекомендуется использовать текст на английском языке для оптимальной генерации.
* Если есть GPU, PyTorch автоматически его использует.
* Скрипт проверяет корректность темы и количество генерируемых вопросов, ошибки выводятся в консоль.
